(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,94542,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(94908),i=e.i(75254);let r=(0,i.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),d=(0,i.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),o=(0,i.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function n(){let[e,i]=(0,s.useState)(""),[n,c]=(0,s.useState)(!1),[h,m]=(0,s.useState)(""),[u,x]=(0,s.useState)(!1),b=(0,a.useRouter)(),p=async t=>{t.preventDefault(),m(""),x(!0);try{let t=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:e})}),s=await t.json();t.ok?(b.push("/"),b.refresh()):m(s.message||"密码错误，请重试")}catch{m("登录失败，请稍后重试")}finally{x(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen flex items-center justify-center gradient-primary px-4",children:[(0,t.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-white/5 rounded-full blur-3xl"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-80 h-80 bg-white/10 rounded-full blur-3xl"})]}),(0,t.jsxs)("div",{className:"relative z-10 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-white/10 backdrop-blur-sm mb-4",children:(0,t.jsx)(l.Compass,{className:"w-10 h-10 text-white"})}),(0,t.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"旅行日记"}),(0,t.jsx)("p",{className:"text-white/70",children:"这是一个私密空间，仅限好友访问"})]}),(0,t.jsxs)("form",{onSubmit:p,className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 shadow-2xl",children:[(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{htmlFor:"password",className:"block text-white/90 text-sm font-medium mb-2",children:[(0,t.jsx)(r,{className:"w-4 h-4 inline mr-2"}),"访问密码"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:n?"text":"password",id:"password",value:e,onChange:e=>i(e.target.value),placeholder:"请输入访问密码",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 transition-all",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>c(!n),className:"absolute right-3 top-1/2 -translate-y-1/2 text-white/60 hover:text-white transition-colors",children:n?(0,t.jsx)(o,{className:"w-5 h-5"}):(0,t.jsx)(d,{className:"w-5 h-5"})})]})]}),h&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-500/20 border border-red-500/30 rounded-xl text-red-200 text-sm",children:h}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full py-3 px-4 bg-white text-[var(--primary)] font-semibold rounded-xl hover:bg-gray-100 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:u?"验证中...":"进入空间"}),(0,t.jsx)("p",{className:"mt-6 text-center text-white/50 text-sm",children:"如果您是好友但没有密码，请联系管理员获取"})]})]})]})}e.s(["default",()=>n],94542)}]);